{% extends 'aplicacion/base.html' %}
{% load static %}

{% block titulo %}
    <h1>Pagina de Productos</h1>
{% endblock titulo %}


{% block contenido %}
    <h1>{{ titulo }}</h1>
    <h4>Cantidad de Productos {{ productos|length }}</h4>
    <h2>Productos
        <tr>
            <td>
                <a
                href="{% url 'producto_form' %}"
                class="btn btn-primary btn-sm"
                ><i class="fa fa-plus fa-lg" title="New Record"> </i>
                </a>
            </td>
    </h2>
    <table class="table table-dark table-striped">
        <thead>
            <tr>
                <th>id</th>
                <th>tipo_producto</th>
                <th>marca</th>
                <th>precio</th>
                <th>Acciones</th>
                <th>Imagenes</th>
            </tr>
        </thead>
        <tbody>
    {% for p in productos  %}
            <tr>
                <td> {{ c.id }} </td>
                <td> {{ p.tipo_producto }} </td>
                <td> {{ p.marca }} </td>
                <td> {{ p.precio }} </td>
                <td>
                    <a
                    href="{% url 'modifProducto' id_producto=p.id %}"
                    class="btn btn-primary"
                    style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;"
                    ><i class="fa fa-edit fa-sm" title="Edit Record"></i>
                    <a 
                        href="{% url 'deleteProducto' id_producto=p.id %}"
                        class="btn btn-danger"
                        style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;"
                        ><i class="fa fa-trash fa-sm" title="Delete Record"></i>
                    </a>
                </td>
                <td>
                    {% if p.imagen %}
                        <img src="{{ p.imagen.url }}" alt="auto" style="max-width: 200px;">
                    {% endif %}
                </td>
            </tr>
            
    {% endfor %}
        </tbody>
</table>       
{% endblock contenido %}